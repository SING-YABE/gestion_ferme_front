.historique-analytics-container {
  padding: 2rem;

  // Header
  .historique-header {
    margin-bottom: 2rem;

    .historique-title {
      margin: 0 0 0.5rem 0;
      font-size: 1.8rem;
      font-weight: 600;
      color: #333;
      display: flex;
      align-items: center;
      gap: 0.75rem;

      i {
        color: #2E7D32;
        font-size: 1.6rem;
      }
    }

    .historique-subtitle {
      margin: 0;
      color: #666;
      font-size: 1rem;
    }
  }

  // Sous-onglets
  ::ng-deep {
    .p-tabview {
      .p-tabview-nav {
        background: #fafafa;
        border-bottom: 2px solid #e0e0e0;

        .p-tabview-nav-link {
          padding: 1rem 1.5rem;
          font-weight: 500;
          color: #666;
          border: none;
          transition: all 0.3s;

          i {
            margin-right: 0.5rem;
            font-size: 1.1rem;
          }

          &:hover {
            background: rgba(46, 125, 50, 0.05);
            color: #2E7D32;
          }
        }

        .p-highlight .p-tabview-nav-link {
          background: white;
          color: #2E7D32;
          border-bottom: 3px solid #2E7D32;
          font-weight: 600;
        }
      }

      .p-tabview-panels {
        padding: 2rem 0;
      }
    }
  }

  // Contenu des onglets
  .tab-content {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  // Section filtres
  .filters-section {
    ::ng-deep {
      .p-card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);

        .p-card-body {
          padding: 1.5rem;
        }
      }
    }

    .filters-content {
      display: flex;
      align-items: flex-end;
      gap: 1.5rem;
      flex-wrap: wrap;

      .filter-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;

        label {
          font-weight: 600;
          color: #333;
          font-size: 0.9rem;
        }
      }
    }
  }

  // Section tableau
  .table-section,
  .aliments-section {
    ::ng-deep {
      .p-card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);

        .p-card-header {
          padding: 0;
        }

        .card-header {
          padding: 1.25rem;
          background: linear-gradient(135deg, #2E7D32 0%, #43A047 100%);
          color: white;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          font-weight: 600;

          i {
            font-size: 1.3rem;
          }

          &.aliment {
            background: linear-gradient(135deg, #1976D2 0%, #42A5F5 100%);
          }
        }
      }

      .table-header {
        padding: 1rem 0;

        .p-input-icon-left {
          width: 300px;

          input {
            width: 100%;
            padding-left: 2.5rem;
          }
        }
      }

      .p-datatable {
        .text-right {
          text-align: right;
        }

        .text-center {
          text-align: center;
        }

        .text-muted {
          color: #999;
          font-size: 0.9rem;
        }

        .animal-badge {
          display: inline-block;
          padding: 0.25rem 0.75rem;
          background: #e8f5e9;
          color: #2E7D32;
          border-radius: 12px;
          font-weight: 600;
          font-size: 0.9rem;
        }

        .aliment-name {
          font-weight: 600;
          color: #333;
        }

        .price-value {
          color: #2E7D32;
          font-size: 1.05rem;
        }

        th {
          background: #f8f9fa;
          font-weight: 600;
          text-transform: uppercase;
          font-size: 0.85rem;
          letter-spacing: 0.5px;
        }

        tbody tr {
          transition: all 0.2s;

          &:hover {
            background: rgba(46, 125, 50, 0.05);
          }
        }

        // Accuracy table
        .error-positive {
          color: #D32F2F;
        }

        .error-negative {
          color: #2E7D32;
        }

        .text-success {
          color: #2E7D32;
          font-size: 1.2rem;
        }

        .text-danger {
          color: #D32F2F;
          font-size: 1.2rem;
        }
      }
    }
  }

  // Loading state
  .loading-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem 2rem;
    gap: 1rem;

    p {
      color: #666;
      font-size: 1rem;
    }
  }

  // Empty state
  .empty-state {
    text-align: center;
    padding: 4rem 2rem;
    color: #666;

    i {
      font-size: 4rem;
      color: #ccc;
      margin-bottom: 1rem;
    }

    h3 {
      margin: 0 0 0.5rem 0;
      color: #333;
    }

    p {
      margin: 0;
      font-size: 0.95rem;
    }
  }

  // Résultats tendances
  .tendances-results {
    display: flex;
    flex-direction: column;
    gap: 2rem;

    .tendance-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;

      ::ng-deep {
        .tendance-card {
          border: none;
          border-radius: 12px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);

          .p-card-body {
            padding: 1.5rem;
          }

          .tendance-main {
            display: flex;
            align-items: center;
            gap: 1.5rem;

            .tendance-icon {
              font-size: 3rem;
            }

            .tendance-info {
              display: flex;
              flex-direction: column;
              gap: 0.5rem;

              .tendance-label {
                font-size: 0.9rem;
                color: #666;
                text-transform: uppercase;
                letter-spacing: 0.5px;
              }

              .tendance-value {
                font-size: 1.5rem;
                font-weight: 700;
                color: #333;
              }
            }
          }
        }
      }
    }
  }

  // Section graphique
  .chart-section {
    ::ng-deep {
      .p-card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);

        .p-card-header {
          padding: 0;
        }

        .card-header {
          padding: 1.25rem;
          background: linear-gradient(135deg, #2E7D32 0%, #43A047 100%);
          color: white;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          font-weight: 600;

          i {
            font-size: 1.3rem;
          }
        }

        .chart-container {
          padding: 1.5rem;
        }
      }
    }
  }

  // Résultats évolution
  .evolution-results {
    display: flex;
    flex-direction: column;
    gap: 2rem;

    .evolution-stats {
      ::ng-deep {
        .p-card {
          border: none;
          border-radius: 12px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);

          .card-header {
            padding: 1.25rem;
            background: linear-gradient(135deg, #1976D2 0%, #42A5F5 100%);
            color: white;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 600;

            i {
              font-size: 1.3rem;
            }
          }

          .p-card-body {
            padding: 1.5rem;
          }
        }
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;

        .stat-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.5rem;
          padding: 1.5rem;
          background: #f8f9fa;
          border-radius: 12px;

          .stat-label {
            font-size: 0.85rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }

          .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2E7D32;

            &.min {
              color: #FFA726;
            }

            &.max {
              color: #66BB6A;
            }
          }
        }
      }
    }
  }

  // Résultats accuracy
  .accuracy-results {
    display: flex;
    flex-direction: column;
    gap: 2rem;

    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;

      ::ng-deep {
        .metric-card {
          border: none;
          border-radius: 12px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
          transition: all 0.3s ease;

          &:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
          }

          .p-card-body {
            padding: 1.5rem;
          }

          .metric-content {
            display: flex;
            align-items: center;
            gap: 1.5rem;

            .metric-icon {
              font-size: 2.5rem;
              color: #2E7D32;
            }

            .metric-info {
              display: flex;
              flex-direction: column;
              gap: 0.5rem;

              .metric-label {
                font-size: 0.85rem;
                color: #666;
                text-transform: uppercase;
                letter-spacing: 0.5px;
              }

              .metric-value {
                font-size: 1.8rem;
                font-weight: 700;
                color: #2E7D32;
              }
            }
          }
        }
      }
    }

    .details-section {
      margin-top: 1rem;
    }
  }
}

// Responsive
@media (max-width: 768px) {
  .historique-analytics-container {
    padding: 1rem;

    .historique-header {
      .historique-title {
        font-size: 1.4rem;
      }

      .historique-subtitle {
        font-size: 0.9rem;
      }
    }

    .filters-section {
      .filters-content {
        flex-direction: column;
        align-items: stretch;

        .filter-group {
          width: 100%;

          ::ng-deep {
            .p-dropdown,
            .p-inputnumber {
              width: 100% !important;
            }
          }
        }

        ::ng-deep .p-button {
          width: 100%;
        }
      }
    }

    .tendances-results {
      .tendance-cards {
        grid-template-columns: 1fr;
      }
    }

    .evolution-results {
      .evolution-stats {
        .stats-grid {
          grid-template-columns: 1fr;
        }
      }
    }

    .accuracy-results {
      .metrics-grid {
        grid-template-columns: 1fr;
      }
    }

    ::ng-deep {
      .table-header .p-input-icon-left {
        width: 100%;
      }

      .p-datatable {
        font-size: 0.9rem;

        th,
        td {
          padding: 0.5rem;
        }
      }
    }
  }
}