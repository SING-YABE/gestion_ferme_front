=<div 
  class="odyssey-shadow-low border-round" 
  style="background:#F5F0E6; border:1px solid #D9D2C2;"
>
  <div class="px-4 py-2 flex gap-3 align-items-center"
       style="background:#16A34A; color:white; border-radius:8px 8px 0 0;">
    
    <h5 class="m-0 flex-1">Gestion de l'alimentation</h5>

    <app-alimentation-form 
      mode="create"
      (onUpdate)="loadData()"
    ></app-alimentation-form>
  </div>

  <p-table
    [value]="data"
    [loading]="loading"
    [rows]="pageSize"
    [paginator]="data.length > pageSize"
    styleClass="p-datatable-sm"
  >
    <!-- En-tête -->
    <ng-template pTemplate="header">
      <tr style="background:#DCFCE7;">
        <th>Date</th>
        <th>Type Aliment</th>
        <th>Quantité (Kg)</th>
        <th>Prix Unitaire</th>
        <th>Coût Total</th>
        <th>Animal</th>
        <th>Type Animal</th>
        <th>Fournisseur</th>
        <th style="text-align:center; width:150px">Actions</th>
      </tr>
    </ng-template>

    <!-- Corps du tableau -->
    <ng-template pTemplate="body" let-row>
      <tr>
        <td>{{ row.date }}</td>
        <td>{{ row.typeAlimentLibelle || '-' }}</td>
        <td>{{ row.quantiteKg }} Kg</td>
        <td>{{ row.prixUnitaire | number }} FCFA</td>
        <td><strong>{{ row.coutTotal | number }} FCFA</strong></td>
        <td>{{ row.codeAnimal || '-' }}</td>
        <td>{{ row.typeAnimalId || '-' }}</td>
        <td>{{ row.fournisseur?.nom || '-' }}</td>
        <td>
          <div class="flex justify-content-center gap-2">
            <button pButton 
                    icon="pi pi-trash" 
                    class="p-button-rounded"
                    style="background:#B91C1C; border-color:#B91C1C;"
                    (click)="confirmDelete(row)">
            </button>
          </div>
        </td>
      </tr>
    </ng-template>

    <!-- Message vide -->
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="9" class="text-center py-4">
          <i class="pi pi-inbox mr-2"></i> Aucune alimentation trouvée
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<p-confirmDialog></p-confirmDialog>
