<!-- Bouton pour ouvrir le formulaire -->
<button pButton (click)="handleShowForm()" icon="pi pi-plus" label="Nouveau rôle"></button>

<!-- Dialog pour ajouter un nouveau rôle -->
<p-dialog appendTo="body" [modal]="true" [dismissableMask]="true" [style]="{width: '600px'}" [(visible)]="showForm">
  <ng-template pTemplate="header">
    <h4 class="m-0">Ajouter un Nouveau Rôle</h4>
  </ng-template>

  <div class="pt-2">
    <div class="field">
      <label for="roleName">Nom du rôle</label>
      <input id="roleName" [(ngModel)]="newRole.name" pInputText placeholder="Nom du rôle">
    </div>

    <div class="field">
      <label for="roleCode">Code du rôle</label>
      <input id="roleCode" [(ngModel)]="newRole.code" pInputText placeholder="Code unique du rôle">
    </div>

    <div class="field">
      <label for="permissions">Permissions</label>
      <p-multiSelect appendTo="body" id="permissions" [options]="permissions" [(ngModel)]="newRole.permissionsId"
        optionLabel="name" optionValue="code" placeholder="Sélectionner des permissions"></p-multiSelect>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <button (click)="showForm = false" pButton class="p-button-danger mr-2 p-button-outlined">Annuler</button>
    <button [loading]="processing" (click)="handleAddRole()" pButton>Enregistrer</button>
  </ng-template>
</p-dialog>
